webpackJsonp([12],{700:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l,i,o,a,u,s,r,d=e(1),c=e(0),m=e(13),p=e(740),h=e(63),f=e(17),g=e(123),v=e(26),b=e(62),y=function(){function t(t,n,e,l,i,o,a){this.navCtrl=t,this.navParams=n,this.profileService=e,this.loading=l,this.inspo=i,this.commonAlert=o,this.checktoken=a,this.userActiveData=[],this.page=1,this.isloader=1,this.activitytitle=!1,this.hasMoreData=!0,console.log("Hello ActivityComponent Component"),this.baseUrl=v.k,this.userAuthData=a.authToken?JSON.parse(a.userAuthData):"null",this.user_name=n.data.hasOwnProperty("userName")?n.data.userName:this.userAuthData.userName,this.user_id=n.data.hasOwnProperty("user_id")?n.data.user_id:this.userAuthData.user_id,this.activityData()}return t.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad ActivityPage")},t.prototype.activityData=function(){var t=this;if(this.isloader){var n=this.loading.create({content:"Loading..."});return n.present().then(function(){return t.profileService.userLikesDataApi(t.user_name,t.page,"activity").then(function(e){if(0==e.status)return t.activitytitle=!0,t.activityContent=v.e,n.dismiss(),!1;if(!e)return t.activitytitle=!0,t.activityContent=v.f,n.dismiss(),!1;t.total_page=e.total_pages,t.hasMoreData=!0;for(var l=0,i=e.images;l<i.length;l++){t.userActiveData.push(i[l])}t.activityAllData=t.userActiveData,n.dismiss()})})}return this.profileService.userLikesDataApi(this.user_name,this.page,"activity").then(function(n){t.total_page=n.total_pages,t.hasMoreData=!0;for(var e=0,l=n.images;e<l.length;e++){t.userActiveData.push(l[e])}t.activityAllData=t.userActiveData})},t.prototype.backbutton=function(){this.navCtrl.pop({animate:!0,animation:"transition",duration:500,direction:"back"})},t.prototype.postLike=function(t){if(!this.userAuthData.id){return this.commonAlert.showConfirm({title:"Heads up!",message:"You must be signed in to do that.",buttonText:"OK"}),!1}var n=document.getElementById("like-"+t),e=n.getElementsByClassName("count")[0];this.inspo.postLike({user_id:this.user_id,image_id:t}).then(function(t){if(1==t.status)n.setAttribute("fill","liked"),e.innerHTML=t.like_count;else{if(0!=t.status)return!1;n.removeAttribute("fill"),e.innerHTML=t.like_count}e.innerHTML=t.like_count})},t.prototype.inspirationdetail=function(t){this.navCtrl.push(p.a,t,{animate:!0,animation:"transition",duration:500,direction:"forward"})},t.prototype.goToUserProfile=function(t){this.navCtrl.push("ProfilePage",{username:t},{animate:!0,animation:"transition",duration:500,direction:"forward"})},t}();y=Object(c.__decorate)([Object(d.Component)({selector:"page-activity",templateUrl:"activity.html"}),Object(c.__metadata)("design:paramtypes",["function"==typeof(l=void 0!==m.q&&m.q)&&l||Object,"function"==typeof(i=void 0!==m.r&&m.r)&&i||Object,"function"==typeof(o=void 0!==h.a&&h.a)&&o||Object,"function"==typeof(a=void 0!==m.m&&m.m)&&a||Object,"function"==typeof(u=void 0!==g.a&&g.a)&&u||Object,"function"==typeof(s=void 0!==b.a&&b.a)&&s||Object,"function"==typeof(r=void 0!==f.a&&f.a)&&r||Object])],y);var _=e(226),C=function(){return function(){}}();C=Object(c.__decorate)([Object(d.NgModule)({declarations:[y],imports:[m.l.forChild(y),_.c]})],C);var k=e(392),D=e(393),O=e(394),R=e(395),A=e(396),E=e(397),x=e(398),j=e(399),L=e(400),w=e(81),T=e(3),S=e(68),I=e(20),P=e(19),M=e(45),B=e(52),H=e(172),N=e(170),V=e(91),U=e(64),$=e(54),F=e(100),q=e(99),K=e(30),J=e(22),Y=e(37),W=e(228),Z=e(44),z=e(6),G=e(60),Q=e(31),X=e(8),tt=e(23),nt=e(90),et=e(61),lt=e(38),it=e(69),ot=e(67),at=e(27),ut=e(5),st=e(9),rt=e(29),dt=e(14),ct=e(16),mt=e(49),pt=d["ɵcrt"]({encapsulation:2,styles:[],data:{}});function ht(t){return d["ɵvid"](0,[(t()(),d["ɵeld"](0,0,null,null,59,"ion-card",[["class","ion-card view"]],null,null,null,null,null)),d["ɵdid"](1,16384,null,0,w.a,[T.a,d.ElementRef,d.Renderer],null,null),(t()(),d["ɵted"](-1,null,["\n            "])),(t()(),d["ɵeld"](3,0,null,null,16,"ion-item",[["class","avatarPositioning item item-block"]],null,null,null,S.b,S.a)),d["ɵdid"](4,1097728,null,3,I.a,[P.a,T.a,d.ElementRef,d.Renderer,[2,M.a]],null,null),d["ɵqud"](335544320,1,{contentLabel:0}),d["ɵqud"](603979776,2,{_buttons:1}),d["ɵqud"](603979776,3,{_icons:1}),d["ɵdid"](8,16384,null,0,B.a,[],null,null),(t()(),d["ɵted"](-1,2,["\n                "])),(t()(),d["ɵeld"](10,0,null,0,5,"ion-avatar",[["item-start",""]],null,null,null,null,null)),d["ɵdid"](11,16384,null,0,H.a,[],null,null),(t()(),d["ɵted"](-1,null,["\n                    "])),(t()(),d["ɵeld"](13,0,null,null,1,"img-loader",[["useImg","true"]],null,[[null,"click"]],function(t,n,e){var l=!0;"click"===n&&(l=!1!==t.component.goToUserProfile(t.context.$implicit.user_id)&&l);return l},N.b,N.a)),d["ɵdid"](14,114688,null,0,V.a,[d.ElementRef,d.Renderer,U.a,$.a],{src:[0,"src"],useImg:[1,"useImg"]},null),(t()(),d["ɵted"](-1,null,["\n                "])),(t()(),d["ɵted"](-1,2,["\n                "])),(t()(),d["ɵeld"](17,0,null,2,1,"h2",[],null,null,null,null,null)),(t()(),d["ɵted"](18,null,["",""])),(t()(),d["ɵted"](-1,2,["\n            "])),(t()(),d["ɵted"](-1,null,["\n         "])),(t()(),d["ɵeld"](21,0,null,null,1,"img-loader",[["useImg","true"]],null,[[null,"click"]],function(t,n,e){var l=!0;"click"===n&&(l=!1!==t.component.inspirationdetail(t.context.$implicit.id)&&l);return l},N.b,N.a)),d["ɵdid"](22,114688,null,0,V.a,[d.ElementRef,d.Renderer,U.a,$.a],{src:[0,"src"],useImg:[1,"useImg"]},null),(t()(),d["ɵted"](-1,null,["\n            "])),(t()(),d["ɵeld"](24,0,null,null,34,"ion-row",[["class","app-operation row"]],null,null,null,null,null)),d["ɵdid"](25,16384,null,0,F.a,[],null,null),(t()(),d["ɵted"](-1,null,["\n                "])),(t()(),d["ɵeld"](27,0,null,null,14,"ion-col",[["class","col"],["col-4",""]],null,null,null,null,null)),d["ɵdid"](28,16384,null,0,q.a,[],null,null),(t()(),d["ɵted"](-1,null,["\n                    "])),(t()(),d["ɵeld"](30,0,null,null,10,"button",[["clear",""],["icon-left",""],["ion-button",""],["small",""]],[[8,"id",0],[1,"fill",0]],[[null,"click"]],function(t,n,e){var l=!0;"click"===n&&(l=!1!==t.component.postLike(t.context.$implicit.id)&&l);return l},K.b,K.a)),d["ɵdid"](31,1097728,null,0,J.a,[[8,""],T.a,d.ElementRef,d.Renderer],{small:[0,"small"],clear:[1,"clear"]},null),(t()(),d["ɵted"](-1,0,["\n                            "])),(t()(),d["ɵeld"](33,0,null,0,1,"ion-icon",[["name","heart"],["role","img"]],[[2,"hide",null]],null,null,null,null)),d["ɵdid"](34,147456,null,0,Y.a,[T.a,d.ElementRef,d.Renderer],{name:[0,"name"]},null),(t()(),d["ɵted"](-1,0,["\n                        "])),(t()(),d["ɵeld"](36,0,null,0,3,"div",[],null,null,null,null,null)),(t()(),d["ɵted"](-1,null,["Like "])),(t()(),d["ɵeld"](38,0,null,null,1,"span",[["class","count"]],null,null,null,null,null)),(t()(),d["ɵted"](39,null,["",""])),(t()(),d["ɵted"](-1,0,["\n                    "])),(t()(),d["ɵted"](-1,null,["\n                "])),(t()(),d["ɵted"](-1,null,["\n                "])),(t()(),d["ɵeld"](43,0,null,null,14,"ion-col",[["class","col"],["col-4",""]],null,null,null,null,null)),d["ɵdid"](44,16384,null,0,q.a,[],null,null),(t()(),d["ɵted"](-1,null,["\n                    "])),(t()(),d["ɵeld"](46,0,null,null,10,"button",[["clear",""],["icon-left",""],["ion-button",""],["small",""]],[[1,"fill",0]],[[null,"click"]],function(t,n,e){var l=!0;"click"===n&&(l=!1!==t.component.inspirationdetail(t.context.$implicit.id)&&l);return l},K.b,K.a)),d["ɵdid"](47,1097728,null,0,J.a,[[8,""],T.a,d.ElementRef,d.Renderer],{small:[0,"small"],clear:[1,"clear"]},null),(t()(),d["ɵted"](-1,0,["\n                            "])),(t()(),d["ɵeld"](49,0,null,0,1,"ion-icon",[["name","text"],["role","img"]],[[2,"hide",null]],null,null,null,null)),d["ɵdid"](50,147456,null,0,Y.a,[T.a,d.ElementRef,d.Renderer],{name:[0,"name"]},null),(t()(),d["ɵted"](-1,0,["\n                        "])),(t()(),d["ɵeld"](52,0,null,0,3,"div",[],null,null,null,null,null)),(t()(),d["ɵted"](-1,null,["Comment "])),(t()(),d["ɵeld"](54,0,null,null,1,"span",[["class","count"]],null,null,null,null,null)),(t()(),d["ɵted"](55,null,["",""])),(t()(),d["ɵted"](-1,0,["\n                    "])),(t()(),d["ɵted"](-1,null,["\n                "])),(t()(),d["ɵted"](-1,null,["\n            "])),(t()(),d["ɵted"](-1,null,["\n        "]))],function(t,n){var e=n.component;t(n,14,0,e.baseUrl+n.context.$implicit.avatar,"true");t(n,22,0,e.baseUrl+n.context.$implicit.post_image,"true");t(n,31,0,"","");t(n,34,0,"heart");t(n,47,0,"","");t(n,50,0,"text")},function(t,n){t(n,18,0,n.context.$implicit.post_title),t(n,30,0,d["ɵinlineInterpolate"](1,"like-",n.context.$implicit.id,""),n.context.$implicit.like_status?"liked":null),t(n,33,0,d["ɵnov"](n,34)._hidden),t(n,39,0,n.context.$implicit.like_count),t(n,46,0,n.context.$implicit.comment_status?"changecolor":null),t(n,49,0,d["ɵnov"](n,50)._hidden),t(n,55,0,n.context.$implicit.comment_count)})}function ft(t){return d["ɵvid"](0,[(t()(),d["ɵeld"](0,0,null,null,9,"ion-card",[],null,null,null,null,null)),d["ɵdid"](1,16384,null,0,w.a,[T.a,d.ElementRef,d.Renderer],null,null),(t()(),d["ɵted"](-1,null,["\n            "])),(t()(),d["ɵeld"](3,0,null,null,5,"ion-card-content",[],null,null,null,null,null)),d["ɵdid"](4,16384,null,0,W.a,[T.a,d.ElementRef,d.Renderer],null,null),(t()(),d["ɵted"](-1,null,["\n                "])),(t()(),d["ɵeld"](6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),d["ɵted"](7,null,["",""])),(t()(),d["ɵted"](-1,null,["\n            "])),(t()(),d["ɵted"](-1,null,["\n        "]))],null,function(t,n){t(n,7,0,n.component.activityContent)})}function gt(t){return d["ɵvid"](0,[(t()(),d["ɵeld"](0,0,null,null,29,"ion-header",[],null,null,null,null,null)),d["ɵdid"](1,16384,null,0,Z.a,[T.a,d.ElementRef,d.Renderer,[2,z.a]],null,null),(t()(),d["ɵted"](-1,null,["\n    "])),(t()(),d["ɵeld"](3,0,null,null,11,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,G.b,G.a)),d["ɵdid"](4,49152,null,0,Q.a,[X.a,[2,z.a],[2,tt.a],T.a,d.ElementRef,d.Renderer],null,null),(t()(),d["ɵted"](-1,3,["\n        "])),(t()(),d["ɵeld"](6,0,null,3,7,"ion-title",[],null,null,null,nt.b,nt.a)),d["ɵdid"](7,49152,null,0,et.a,[T.a,d.ElementRef,d.Renderer,[2,lt.a],[2,Q.a]],null,null),(t()(),d["ɵted"](-1,0,["\n            "])),(t()(),d["ɵeld"](9,0,null,0,3,"div",[["class","header-logo"]],null,null,null,null,null)),(t()(),d["ɵted"](-1,null,["\n                "])),(t()(),d["ɵeld"](11,0,null,null,0,"img",[["alt","logo"],["src","assets/img/stuccco-new-logo.png"]],null,null,null,null,null)),(t()(),d["ɵted"](-1,null,[" \n            "])),(t()(),d["ɵted"](-1,0,["\n        "])),(t()(),d["ɵted"](-1,3,["\n    "])),(t()(),d["ɵted"](-1,null,["\n    "])),(t()(),d["ɵeld"](16,0,null,null,12,"ion-toolbar",[["class","sub-header toolbar"]],[[2,"statusbar-padding",null]],null,null,it.b,it.a)),d["ɵdid"](17,49152,null,0,lt.a,[T.a,d.ElementRef,d.Renderer],null,null),(t()(),d["ɵted"](-1,3,["\n        "])),(t()(),d["ɵeld"](19,0,null,3,4,"a",[["class","backicon"]],null,[[null,"click"]],function(t,n,e){var l=!0;"click"===n&&(l=!1!==t.component.backbutton()&&l);return l},null,null)),(t()(),d["ɵeld"](20,0,null,null,3,"ion-icon",[["ios","ios-arrow-back"],["name","arrow-back"],["role","img"]],[[2,"hide",null]],null,null,null,null)),d["ɵdid"](21,147456,null,0,Y.a,[T.a,d.ElementRef,d.Renderer],{name:[0,"name"],ios:[1,"ios"]},null),(t()(),d["ɵeld"](22,0,null,null,1,"span",[["class","back-text"]],null,null,null,null,null)),(t()(),d["ɵted"](-1,null,["Back"])),(t()(),d["ɵted"](-1,3,["\n        "])),(t()(),d["ɵeld"](25,0,null,3,2,"ion-title",[["class","title"]],null,null,null,nt.b,nt.a)),d["ɵdid"](26,49152,null,0,et.a,[T.a,d.ElementRef,d.Renderer,[2,lt.a],[2,Q.a]],null,null),(t()(),d["ɵted"](-1,0,["Recent Posts"])),(t()(),d["ɵted"](-1,3,["\n    "])),(t()(),d["ɵted"](-1,null,["\n"])),(t()(),d["ɵted"](-1,null,["\n"])),(t()(),d["ɵted"](-1,null,["\n"])),(t()(),d["ɵeld"](32,0,null,null,11,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,ot.b,ot.a)),d["ɵdid"](33,4374528,null,0,at.a,[T.a,ut.a,st.a,d.ElementRef,d.Renderer,X.a,rt.a,d.NgZone,[2,z.a],[2,tt.a]],null,null),(t()(),d["ɵted"](-1,1,["\n    "])),(t()(),d["ɵeld"](35,0,null,1,7,"div",[["class","ion-card"]],null,null,null,null,null)),(t()(),d["ɵted"](-1,null,["    \n        "])),(t()(),d["ɵand"](16777216,null,null,1,null,ht)),d["ɵdid"](38,802816,null,0,dt.h,[d.ViewContainerRef,d.TemplateRef,d.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),d["ɵted"](-1,null,["\n        "])),(t()(),d["ɵand"](16777216,null,null,1,null,ft)),d["ɵdid"](41,16384,null,0,dt.i,[d.ViewContainerRef,d.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),d["ɵted"](-1,null,["\n    "])),(t()(),d["ɵted"](-1,1,["\n"])),(t()(),d["ɵted"](-1,null,["    \n"]))],function(t,n){var e=n.component;t(n,21,0,"arrow-back","ios-arrow-back"),t(n,38,0,e.activityAllData),t(n,41,0,1==e.activitytitle&&e.userAuthData.id==e.user_id)},function(t,n){t(n,3,0,d["ɵnov"](n,4)._hidden,d["ɵnov"](n,4)._sbPadding),t(n,16,0,d["ɵnov"](n,17)._sbPadding),t(n,20,0,d["ɵnov"](n,21)._hidden),t(n,32,0,d["ɵnov"](n,33).statusbarPadding,d["ɵnov"](n,33)._hasRefresher)})}var vt=d["ɵccf"]("page-activity",y,function(t){return d["ɵvid"](0,[(t()(),d["ɵeld"](0,0,null,null,1,"page-activity",[],null,null,null,gt,pt)),d["ɵdid"](1,49152,null,0,y,[tt.a,ct.a,h.a,mt.a,g.a,b.a,f.a],null,null)],null,null)},{},{},[]),bt=e(18),yt=e(224),_t=e(227),Ct=e(89);e.d(n,"ActivityPageModuleNgFactory",function(){return kt});var kt=d["ɵcmf"](C,[],function(t){return d["ɵmod"]([d["ɵmpd"](512,d.ComponentFactoryResolver,d["ɵCodegenComponentFactoryResolver"],[[8,[k.a,D.a,O.a,R.a,A.a,E.a,x.a,j.a,L.a,vt]],[3,d.ComponentFactoryResolver],d.NgModuleRef]),d["ɵmpd"](4608,dt.k,dt.j,[d.LOCALE_ID]),d["ɵmpd"](4608,bt.x,bt.x,[]),d["ɵmpd"](4608,bt.g,bt.g,[]),d["ɵmpd"](512,dt.b,dt.b,[]),d["ɵmpd"](512,bt.v,bt.v,[]),d["ɵmpd"](512,bt.l,bt.l,[]),d["ɵmpd"](512,bt.s,bt.s,[]),d["ɵmpd"](512,yt.a,yt.a,[]),d["ɵmpd"](512,yt.b,yt.b,[]),d["ɵmpd"](512,_t.a,_t.a,[]),d["ɵmpd"](512,C,C,[]),d["ɵmpd"](256,Ct.a,y,[])])})},740:function(t,n,e){"use strict";e.d(n,"a",function(){return k});var l,i,o,a,u,s,r,d,c,m,p,h=e(0),f=e(1),g=e(13),v=e(123),b=e(234),y=e(26),_=e(17),C=e(62),k=function(){function t(t,n,e,l,i,o,a,u,s,r){this.navCtrl=t,this.menu=n,this.sharingVar=e,this.alertCtrl=l,this.actionSheetCtrl=i,this.inspo=o,this.navParams=a,this.loading=u,this.checktoken=s,this.commonAlert=r,this.currentSlide=0,this.inspodetails={},this.inspoDetailComment=[],this.baseUrl={},this.value={},this.comments=[],this.index=6,this.page=1,this.hasMoreComment=!1,this.userAuthToken=s.authToken,this.userAuthData=JSON.parse(s.userAuthData),this.user_id=this.userAuthToken?this.userAuthData.id:null,this.baseUrl=y.k,this.commentInput="",this.to_userid=a.data.toUserId,this.image_id=a.data.imageId,console.log(a.data)}return t.prototype.showBasicAlert=function(t){this.alertCtrl.create({title:t.title,message:t.message,buttons:[t.buttonText]}).present()},t.prototype.inspoDetail=function(){var t=this,n=this.loading.create({content:"Loading.."});n.present().then(function(){t.inspo.loadInspoDetailData(t.image_id).then(function(e){t.inspodetails=e,console.log(t.inspodetails),n.dismiss()})})},t.prototype.inspoDetailComments=function(t,n){var e=this;this.inspo.loadInspoComments(this.image_id,this.page).then(function(t){e.total_page=t.total_pages,e.hasMoreComment=!1;for(var n=0;n<t.comments.length;n++){e.inspoDetailComment.unshift(t.comments[n])}})},t.prototype.loadMoreComment=function(){this.page<this.total_page&&(this.page+=1,this.hasMoreComment=!0,this.inspoDetailComments(this.image_id,this.page))},t.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad InspirationDetailPage"),this.inspoDetail(),this.inspoDetailComments(this.image_id,this.page)},t.prototype.loadRelatedPost=function(t){console.log(t),this.image_id=t.id,this.inspoDetail(),this.inspoDetailComment=[],this.inspoDetailComments(this.image_id,1)},t.prototype.facebookShare=function(){this.sharingVar.shareViaFacebook("Share via Facebok",null,y.k+this.inspodetails.share_url).then(function(){},function(t){console.log("Sharing Faild try again")})},t.prototype.emailShare=function(){this.sharingVar.share("Share By Email",null,y.k+this.inspodetails.share_url).then(function(){},function(t){console.log("Sharing Faild try again")})},t.prototype.slideChanged=function(){this.currentSlide=this.signupSlider.getActiveIndex()},t.prototype.actionsheet=function(){var t=this;this.actionSheetCtrl.create({title:"Share",buttons:[{icon:"logo-facebook",text:"Share",handler:function(){t.facebookShare()}},{icon:"mail",text:"Email",handler:function(){t.emailShare()}},{text:"Cancel",role:"cancel",handler:function(){}}]}).present()},t.prototype.removeEl=function(t){t.parentNode.removeChild(t)},t.prototype.getCommentCount=function(){var t=document.getElementById("comment-details-"+this.image_id).getElementsByClassName("count")[0];return parseInt(t.innerHTML)},t.prototype.updateCommentCount=function(t){this.inspodetails.comment_count=t.comment_count,this.inspodetails.comment_status=t.status,this.updateCommentColor(t)},t.prototype.updateCommentColor=function(t){var n=document.getElementById("comment-details-"+this.image_id);t.comments?n.setAttribute("fill","changecolor"):t.comment_status?n.setAttribute("fill","changecolor"):n.removeAttribute("fill")},t.prototype.getLikeCount=function(){var t=document.getElementById("like-details-"+this.image_id).getElementsByClassName("count")[0];return parseInt(t.innerHTML)},t.prototype.updateLikeCount=function(t){this.inspodetails.like_count=t.like_count,this.inspodetails.like_status=t.status},t.prototype.updateFilledColor=function(t){var n=document.getElementById("like-details-"+this.image_id);t?n.setAttribute("fill","liked"):n.removeAttribute("fill")},t.prototype.postLike=function(){var t=this;if(!this.user_id){return this.commonAlert.showConfirm({title:"Heads up!",message:"You must be signed in to do that",buttonText:"OK"}),!1}this.inspo.postLike({image_id:this.image_id,to_user:this.to_userid}).then(function(n){t.updateLikeCount(n)})},t.prototype.actionShtComment=function(t,n,e){var l=this;this.commentListEl=n.target.offsetParent;var i=this.commentListEl.getElementsByClassName("inspirtion-details-cmt-box")[0].innerHTML;if(this.user_id!=t.replier_id)return!1;this.actionSheetCtrl.create({title:"Please choose your action",buttons:[{icon:"trash",text:"Delete",handler:function(){l.deleteComment(t.comment_id,e)}},{icon:"create",text:"Edit",handler:function(){l.editComment(t,i)}},{text:"Cancel",role:"cancel",handler:function(){}}]}).present()},t.prototype.postComment=function(t){var n=this;if(!this.user_id){return this.commonAlert.showConfirm({title:"Warning",message:"User must logged in first to countinue",buttonText:"OK"}),!1}var e=this.commentInput;if((e=e.toString().trim()).length<=0)return!1;var l={image_id:this.image_id,comment:e,to_user:this.to_userid};t.target.innerHTML="Posting..",this.inspo.postCommentService(l).then(function(e){if(!e.status)return e.status?(t.target.innerHTML="Post",!1):(t.target.innerHTML="Try Again!",t.target.disabled=!0,setTimeout(function(){t.target.innerHTML="Post",t.target.disabled=!1},1e3),!1);n.inspoDetailComment.push(e.comment),setTimeout(function(){n.content.scrollToBottom(300)}),n.commentInput="",n.updateCommentCount(e),t.target.innerHTML="Post"})},t.prototype.deleteComment=function(t,n){var e=this;this.inspo.deleteCommentService(t).then(function(t){if(t.status){var l=e.inspoDetailComment.length-1;e.inspoDetailComment.splice(n,1),e.updateCommentCount({comment_count:l,comment_status:t})}else{if(0!=t.status)return!1;e.showBasicAlert({title:"Error!",message:"Comment not deleted successfully",buttonText:"OK"})}})},t.prototype.updateCommentPost=function(t){var n=this;this.inspo.editCommentService({comment_id:t.comment_id,comment:t.new_comment}).then(function(e){if(e.status){n.commentListEl.getElementsByClassName("inspirtion-details-cmt-box")[0].innerHTML=t.new_comment}else{if(0!=e.status)return!1;n.showBasicAlert({title:"Error!",message:"Comment not updated successfully",buttonText:"OK"})}})},t.prototype.editComment=function(t,n){var e=this;this.alertCtrl.create({title:"Edit Comment",inputs:[{type:"text",name:"comment",value:n}],buttons:[{text:"Cancel",handler:function(t){return!0}},{text:"Update",handler:function(n){var l=n.comment;if((l=l.toString().trim()).length<=0)return!1;t.new_comment=l,e.updateCommentPost(t)}}]}).present()},t.prototype.swipeEvent=function(t,n,e){var l,i=t;for(var o in i)e==i[o].id&&(l=parseInt(o));switch(n.direction){case 2:l+=1;break;case 4:l-=1}i[l]&&void 0!=i[l]&&(this.image_id=i[l].id,this.inspoDetail(),console.log(this.image_id),this.inspoDetailComment=[],this.inspoDetailComments(this.image_id,1))},t.prototype.backbutton=function(){this.navCtrl.pop()},t.prototype.profileView=function(t){this.navCtrl.push("ProfilePage",t,{animate:!0,animation:"transition",duration:500,direction:"forward"})},t}();Object(h.__decorate)([Object(f.ViewChild)("signupSlider"),Object(h.__metadata)("design:type",Object)],k.prototype,"signupSlider",void 0),Object(h.__decorate)([Object(f.ViewChild)(g.e),Object(h.__metadata)("design:type","function"==typeof(l=void 0!==g.e&&g.e)&&l||Object)],k.prototype,"content",void 0),k=Object(h.__decorate)([Object(f.Component)({selector:"page-inspiration-detail",templateUrl:"inspiration-detail.html",providers:[v.a]}),Object(h.__metadata)("design:paramtypes",["function"==typeof(i=void 0!==g.q&&g.q)&&i||Object,"function"==typeof(o=void 0!==g.n&&g.n)&&o||Object,"function"==typeof(a=void 0!==b.a&&b.a)&&a||Object,"function"==typeof(u=void 0!==g.b&&g.b)&&u||Object,"function"==typeof(s=void 0!==g.a&&g.a)&&s||Object,"function"==typeof(r=void 0!==v.a&&v.a)&&r||Object,"function"==typeof(d=void 0!==g.r&&g.r)&&d||Object,"function"==typeof(c=void 0!==g.m&&g.m)&&c||Object,"function"==typeof(m=void 0!==_.a&&_.a)&&m||Object,"function"==typeof(p=void 0!==C.a&&C.a)&&p||Object])],k)}});