webpackJsonp([14],{732:function(n,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t,i,a,o,u,r,s=e(1),d=e(0),c=e(13),f=e(242),p=e(92),h=e(17),m=e(26),g=e(130),v=function(){function n(n,l,e,t,i,a){this.navCtrl=n,this.navParams=l,this.loading=e,this.notify=t,this.checktoken=i,this.badge=a,this.page=1,this.notifyData=[],this.isloader=1,this.hasMoreData=!0,console.log(l.data),this.baseUrl=m.k,this.userAuthToken=i.authToken,this.userAuthData=JSON.parse(i.userAuthData),this.badge.decrease(l.data),this.userAuthToken&&(this.user_id=this.userAuthData.id)}return n.prototype.userProfile=function(n){this.navCtrl.push("ProfilePage",n,{animate:!0,animation:"transition",duration:500,direction:"forward"})},n.prototype.notification=function(n,l,e,t){var i={username:e};switch(n){case"like":this.userprofile="",this.pagename="InspirationDetailPage",this.navCtrl.push(this.pagename,{imageId:l,toUserId:t},{animate:!0,animation:"transition",duration:500,direction:"forward"});break;case"comment":this.userprofile="",this.pagename="InspirationDetailPage";this.navCtrl.push(this.pagename,{imageId:l,toUserId:t},{animate:!0,animation:"transition",duration:500,direction:"forward"});break;case"project":case"project_complete":this.userprofile="",this.pagename=f.a,this.navCtrl.push(this.pagename,l,{animate:!0,animation:"transition",duration:500,direction:"forward"});break;case"follow":this.pagename="",this.userprofile="ProfilePage",this.navCtrl.push(this.userprofile,i,{animate:!0,animation:"transition",duration:500,direction:"forward"});break;case"review":this.userprofile="ProfilePage",this.pagename="",this.navCtrl.push(this.userprofile,i,{animate:!0,animation:"transition",duration:500,direction:"forward"});break;case"design_template":this.userprofile="",this.pagename="ProductdetailPage",this.navCtrl.push(this.pagename,{tempid:l},{animate:!0,animation:"transition",duration:500,direction:"forward"});break;case"advice_reply":this.userprofile="",this.pagename="AdvicedetailPage",this.navCtrl.push(this.pagename,{adviceId:l},{animate:!0,animation:"transition",duration:500,direction:"forward"}),localStorage.setItem("adviceId",l);break;default:this.pagename="",this.userprofile="",console.log("no case in list")}},n.prototype.notificationService=function(){var n=this;if(this.isloader){var l=this.loading.create({content:"Loading.."});return l.present().then(function(){n.notify.notificationApi(n.page).then(function(e){if(!e)return l.dismiss(),!1;n.total_page=e.total_pages,n.hasMoreData=!0;for(var t=0,i=e.notofications;t<i.length;t++){n.notifyData.push(i[t])}n.notifications=n.notifyData,l.dismiss()})})}return this.notify.notificationApi(this.page).then(function(l){n.total_page=l.total_pages,n.hasMoreData=!0;for(var e=0,t=l.notofications;e<t.length;e++){n.notifyData.push(t[e])}n.notifications=n.notifyData})},n.prototype.doRefresh=function(n){var l=this;return this.page=1,this.notify.notificationApi(this.page).then(function(e){l.total_page=e.total_pages,l.hasMoreData=!0,l.notifyData=[];for(var t=0,i=e.notofications;t<i.length;t++){l.notifyData.push(i[t])}l.notifications=l.notifyData,setTimeout(function(){n.complete()},1e3)})},n.prototype.doInfinite=function(n){var l=this;if(!(this.page<this.total_page))return this.hasMoreData=!1,!1;this.page+=1,this.isloader=0,this.notificationService().then(function(){if(l.page==l.total_page)return l.hasMoreData=!1,!1;n.complete()})},n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad NewsPage"),this.notificationService(),this.clearNotifications()},n.prototype.clearNotifications=function(){var n=this;this.notify.clearNotification().then(function(l){n.notify.updateNotification(l.status)})},n}();v=Object(d.__decorate)([Object(s.Component)({selector:"page-news",templateUrl:"news.html"}),Object(d.__metadata)("design:paramtypes",["function"==typeof(t=void 0!==c.q&&c.q)&&t||Object,"function"==typeof(i=void 0!==c.r&&c.r)&&i||Object,"function"==typeof(a=void 0!==c.m&&c.m)&&a||Object,"function"==typeof(o=void 0!==p.a&&p.a)&&o||Object,"function"==typeof(u=void 0!==h.a&&h.a)&&u||Object,"function"==typeof(r=void 0!==g.a&&g.a)&&r||Object])],v);var b=function(){return function(){}}();b=Object(d.__decorate)([Object(s.NgModule)({declarations:[v],imports:[c.l.forChild(v)],exports:[v]})],b);var _=e(392),R=e(393),y=e(394),I=e(395),x=e(396),w=e(397),T=e(398),D=e(399),k=e(400),C=e(68),P=e(20),j=e(19),O=e(3),N=e(45),S=e(52),M=e(172),$=e(14),A=e(101),E=e(27),V=e(9),L=e(401),F=e(124),q=e(44),U=e(6),Z=e(60),H=e(31),J=e(8),z=e(23),B=e(90),G=e(61),K=e(38),Q=e(67),W=e(5),X=e(29),Y=e(171),nn=e(10),ln=e(738),en=e(229),tn=e(53),an=e(16),on=e(49),un=s["ɵcrt"]({encapsulation:2,styles:[],data:{}});function rn(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,0,null,null,1,"a",[],[[8,"hidden",0]],[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.userProfile(n.parent.context.$implicit)&&t);return t},null,null)),(n()(),s["ɵted"](1,null,["\n                    ","\n                "]))],null,function(n,l){n(l,0,0,"View project details"==l.parent.context.$implicit.notification_url_text),n(l,1,0,l.parent.context.$implicit.user_profile_name)})}function sn(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,0,null,null,24,"ion-item",[["class","item item-block"]],null,null,null,C.b,C.a)),s["ɵdid"](1,1097728,null,3,P.a,[j.a,O.a,s.ElementRef,s.Renderer,[2,N.a]],null,null),s["ɵqud"](335544320,1,{contentLabel:0}),s["ɵqud"](603979776,2,{_buttons:1}),s["ɵqud"](603979776,3,{_icons:1}),s["ɵdid"](5,16384,null,0,S.a,[],null,null),(n()(),s["ɵted"](-1,2,["\n            "])),(n()(),s["ɵeld"](7,0,null,0,4,"ion-avatar",[["class","profilepic"],["item-start",""]],null,null,null,null,null)),s["ɵdid"](8,16384,null,0,M.a,[],null,null),(n()(),s["ɵted"](-1,null,["\n                "])),(n()(),s["ɵeld"](10,0,null,null,0,"img",[],[[8,"src",4]],[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.userProfile(n.context.$implicit)&&t);return t},null,null)),(n()(),s["ɵted"](-1,null,["\n            "])),(n()(),s["ɵted"](-1,2,["\n            "])),(n()(),s["ɵeld"](13,0,null,2,7,"h2",[["style","white-space: normal;"]],null,null,null,null,null)),(n()(),s["ɵted"](-1,null,["\n                "])),(n()(),s["ɵand"](16777216,null,null,1,null,rn)),s["ɵdid"](16,16384,null,0,$.i,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),s["ɵted"](17,null,[" \n                ","\n                "])),(n()(),s["ɵeld"](18,0,null,null,1,"a",[],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.notification(n.context.$implicit.notification_type,n.context.$implicit.notification_id,n.context.$implicit.username,n.context.$implicit.to_user_id)&&t);return t},null,null)),(n()(),s["ɵted"](19,null,["","\n                "])),(n()(),s["ɵted"](-1,null,[" \n            "])),(n()(),s["ɵted"](-1,2,["\n            "])),(n()(),s["ɵeld"](22,0,null,2,1,"p",[["class","notification-time"]],null,null,null,null,null)),(n()(),s["ɵted"](23,null,["",""])),(n()(),s["ɵted"](-1,2,["\n        "]))],function(n,l){n(l,16,0,l.context.$implicit.notification_user_id)},function(n,l){n(l,10,0,s["ɵinlineInterpolate"](2,"",l.component.baseUrl,"",l.context.$implicit.user_img,"")),n(l,17,0,l.context.$implicit.notification),n(l,19,0,l.context.$implicit.notification_url_text),n(l,23,0,l.context.$implicit.time)})}function dn(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,0,null,null,6,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],function(n,l,e){var t=!0;"ionInfinite"===l&&(t=!1!==n.component.doInfinite(e)&&t);return t},null,null)),s["ɵdid"](1,1196032,null,0,A.a,[E.a,s.NgZone,s.ElementRef,V.a],null,{ionInfinite:"ionInfinite"}),(n()(),s["ɵted"](-1,null,[" \n        "])),(n()(),s["ɵeld"](3,0,null,null,2,"ion-infinite-scroll-content",[["loadingSpinner","ios"]],[[1,"state",0]],null,null,L.b,L.a)),s["ɵdid"](4,114688,null,0,F.a,[A.a,O.a],{loadingSpinner:[0,"loadingSpinner"]},null),(n()(),s["ɵted"](-1,null,["\n    "])),(n()(),s["ɵted"](-1,null,["\n"]))],function(n,l){n(l,4,0,"ios")},function(n,l){n(l,3,0,s["ɵnov"](l,4).inf.state)})}function cn(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,0,null,null,9,"ion-header",[],null,null,null,null,null)),s["ɵdid"](1,16384,null,0,q.a,[O.a,s.ElementRef,s.Renderer,[2,U.a]],null,null),(n()(),s["ɵted"](-1,null,["\n    "])),(n()(),s["ɵeld"](3,0,null,null,5,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Z.b,Z.a)),s["ɵdid"](4,49152,null,0,H.a,[J.a,[2,U.a],[2,z.a],O.a,s.ElementRef,s.Renderer],null,null),(n()(),s["ɵted"](-1,3,["\n        "])),(n()(),s["ɵeld"](6,0,null,3,1,"ion-title",[],null,null,null,B.b,B.a)),s["ɵdid"](7,49152,null,0,G.a,[O.a,s.ElementRef,s.Renderer,[2,K.a],[2,H.a]],null,null),(n()(),s["ɵted"](-1,3,["\n    "])),(n()(),s["ɵted"](-1,null,["\n"])),(n()(),s["ɵted"](-1,null,["\n\n"])),(n()(),s["ɵeld"](11,0,null,null,22,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Q.b,Q.a)),s["ɵdid"](12,4374528,null,0,E.a,[O.a,W.a,V.a,s.ElementRef,s.Renderer,J.a,X.a,s.NgZone,[2,U.a],[2,z.a]],null,null),(n()(),s["ɵted"](-1,1,["\n    "])),(n()(),s["ɵeld"](14,0,null,1,1,"h2",[["class","title-news"]],null,null,null,null,null)),(n()(),s["ɵted"](-1,null,["Notifications"])),(n()(),s["ɵted"](-1,1,["\n    "])),(n()(),s["ɵeld"](17,0,null,2,5,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,e){var t=!0;"ionRefresh"===l&&(t=!1!==n.component.doRefresh(e)&&t);return t},null,null)),s["ɵdid"](18,212992,null,0,Y.a,[W.a,E.a,s.NgZone,nn.l],null,{ionRefresh:"ionRefresh"}),(n()(),s["ɵted"](-1,null,["\n        "])),(n()(),s["ɵeld"](20,0,null,null,1,"ion-refresher-content",[["pullingIcon","arrow-down"],["pullingText","Pull to refresh"],["refreshingSpinner","ios"],["refreshingText",""]],[[1,"state",0]],null,null,ln.b,ln.a)),s["ɵdid"](21,114688,null,0,en.a,[Y.a,O.a],{pullingIcon:[0,"pullingIcon"],pullingText:[1,"pullingText"],refreshingSpinner:[2,"refreshingSpinner"],refreshingText:[3,"refreshingText"]},null),(n()(),s["ɵted"](-1,null,["\n    "])),(n()(),s["ɵted"](-1,1,["\n    "])),(n()(),s["ɵeld"](24,0,null,1,5,"ion-list",[["inset",""]],null,null,null,null,null)),s["ɵdid"](25,16384,null,0,tn.a,[O.a,s.ElementRef,s.Renderer,W.a,nn.l,V.a],null,null),(n()(),s["ɵted"](-1,null,["\n        "])),(n()(),s["ɵand"](16777216,null,null,1,null,sn)),s["ɵdid"](28,802816,null,0,$.h,[s.ViewContainerRef,s.TemplateRef,s.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),s["ɵted"](-1,null,["\n    "])),(n()(),s["ɵted"](-1,1,["\n    "])),(n()(),s["ɵand"](16777216,null,1,1,null,dn)),s["ɵdid"](32,16384,null,0,$.i,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),s["ɵted"](-1,1,["  \n"])),(n()(),s["ɵted"](-1,null,["\n"]))],function(n,l){var e=l.component;n(l,18,0);n(l,21,0,"arrow-down","Pull to refresh","ios",""),n(l,28,0,e.notifications),n(l,32,0,1==e.hasMoreData)},function(n,l){n(l,3,0,s["ɵnov"](l,4)._hidden,s["ɵnov"](l,4)._sbPadding),n(l,11,0,s["ɵnov"](l,12).statusbarPadding,s["ɵnov"](l,12)._hasRefresher),n(l,17,0,"inactive"!==s["ɵnov"](l,18).state,s["ɵnov"](l,18)._top),n(l,20,0,s["ɵnov"](l,21).r.state)})}var fn=s["ɵccf"]("page-news",v,function(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,0,null,null,1,"page-news",[],null,null,null,cn,un)),s["ɵdid"](1,49152,null,0,v,[z.a,an.a,on.a,p.a,h.a,g.a],null,null)],null,null)},{},{},[]),pn=e(18),hn=e(224),mn=e(89);e.d(l,"NewsPageModuleNgFactory",function(){return gn});var gn=s["ɵcmf"](b,[],function(n){return s["ɵmod"]([s["ɵmpd"](512,s.ComponentFactoryResolver,s["ɵCodegenComponentFactoryResolver"],[[8,[_.a,R.a,y.a,I.a,x.a,w.a,T.a,D.a,k.a,fn]],[3,s.ComponentFactoryResolver],s.NgModuleRef]),s["ɵmpd"](4608,$.k,$.j,[s.LOCALE_ID]),s["ɵmpd"](4608,pn.x,pn.x,[]),s["ɵmpd"](4608,pn.g,pn.g,[]),s["ɵmpd"](512,$.b,$.b,[]),s["ɵmpd"](512,pn.v,pn.v,[]),s["ɵmpd"](512,pn.l,pn.l,[]),s["ɵmpd"](512,pn.s,pn.s,[]),s["ɵmpd"](512,hn.a,hn.a,[]),s["ɵmpd"](512,hn.b,hn.b,[]),s["ɵmpd"](512,b,b,[]),s["ɵmpd"](256,mn.a,v,[])])})},738:function(n,l,e){"use strict";e.d(l,"a",function(){return c}),l.b=m;var t=e(1),i=e(37),a=e(3),o=e(14),u=e(102),r=e(70),s=e(229),d=e(171),c=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function f(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"div",[["class","refresher-pulling-icon"]],null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,1,"ion-icon",[["role","img"]],[[2,"hide",null]],null,null,null,null)),t["ɵdid"](2,147456,null,0,i.a,[a.a,t.ElementRef,t.Renderer],{name:[0,"name"]},null)],function(n,l){n(l,2,0,l.component.pullingIcon)},function(n,l){n(l,1,0,t["ɵnov"](l,2)._hidden)})}function p(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,0,"div",[["class","refresher-pulling-text"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,l){n(l,0,0,l.component.pullingText)})}function h(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,0,"div",[["class","refresher-refreshing-text"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,l){n(l,0,0,l.component.refreshingText)})}function m(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,4,"div",[["class","refresher-pulling"]],null,null,null,null,null)),(n()(),t["ɵand"](16777216,null,null,1,null,f)),t["ɵdid"](2,16384,null,0,o.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵand"](16777216,null,null,1,null,p)),t["ɵdid"](4,16384,null,0,o.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](5,0,null,null,5,"div",[["class","refresher-refreshing"]],null,null,null,null,null)),(n()(),t["ɵeld"](6,0,null,null,2,"div",[["class","refresher-refreshing-icon"]],null,null,null,null,null)),(n()(),t["ɵeld"](7,0,null,null,1,"ion-spinner",[],[[2,"spinner-paused",null]],null,null,u.b,u.a)),t["ɵdid"](8,114688,null,0,r.a,[a.a,t.ElementRef,t.Renderer],{name:[0,"name"]},null),(n()(),t["ɵand"](16777216,null,null,1,null,h)),t["ɵdid"](10,16384,null,0,o.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,e.pullingIcon),n(l,4,0,e.pullingText),n(l,8,0,e.refreshingSpinner),n(l,10,0,e.refreshingText)},function(n,l){n(l,7,0,t["ɵnov"](l,8)._paused)})}t["ɵccf"]("ion-refresher-content",s.a,function(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"ion-refresher-content",[],[[1,"state",0]],null,null,m,c)),t["ɵdid"](1,114688,null,0,s.a,[d.a,a.a],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,t["ɵnov"](l,1).r.state)})},{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},{},[])}});