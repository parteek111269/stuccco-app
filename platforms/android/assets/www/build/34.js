webpackJsonp([34],{728:function(l,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t,i,o,u,a,c,d,r=e(1),s=e(0),p=e(13),f=e(62),h=e(63),m=e(17),g=e(26),v=function(){function l(l,n,e,t,i,o,u){this.navCtrl=l,this.commonAlert=n,this.alertCtrl=e,this.profileService=t,this.loading=i,this.navParams=o,this.checktoken=u,this.page=1,this.collectionarea=!1,this.isloader=1,this.hasMoreData=!0,this.baseUrl=g.k,this.userAuthData=u.authToken?JSON.parse(u.userAuthData):"null",this.user_name=o.data.hasOwnProperty("userName")?o.data.userName:this.userAuthData.userName,this.loggedinUser_id=o.data.hasOwnProperty("user_id")?o.data.user_id:this.userAuthData.id,this.collectionData()}return l.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad CollectionsPage")},l.prototype.backbutton=function(){this.navCtrl.pop({animate:!0,animation:"transition",duration:500,direction:"back"})},l.prototype.failedAlert=function(l,n){var e=this;this.alertCtrl.create({title:"Failed",subTitle:n,buttons:[{text:"OK",handler:function(){e.promptAlert(l)}}]}).present()},l.prototype.promptAlert=function(l){var n=this;this.alertCtrl.create({title:l.title,inputs:[{type:"text",placeholder:"Title",value:l.titleName,name:"title"},{type:"text",value:l.description,placeholder:"Description",name:"description"}],buttons:[{text:"Cancel",handler:function(l){return!0}},{text:"Save",handler:function(e){""==e.title||""==e.description?(l.titleName=e.title,l.description=l.description,n.failedAlert(l,"All fields are required")):n.updateCollection(e,l.index)}}]}).present()},l.prototype.showalertdelete=function(l){var n=this;this.alertCtrl.create({title:l.title,message:l.message,buttons:[{text:"cancel",handler:function(){console.log("Disagree clicked")}},{text:"ok",handler:function(){n.deleteCollectionFunction(l.index)}}]}).present()},l.prototype.collectionData=function(){var l=this;if(this.isloader){var n=this.loading.create({content:"Loading..."});return n.present().then(function(){l.profileService.collectionDataApi(l.user_name,l.page,"collection").then(function(e){return 0==e.status?(l.collectionarea=!0,l.collectionContentShow=g.q,n.dismiss(),!1):e?(l.total_page=e.total_pages,l.hasMoreData=!0,l.collectionsAllData=e.collections,void n.dismiss()):(l.collectionarea=!0,l.collectionContentShow=g.r,n.dismiss(),!1)})})}return this.profileService.collectionDataApi(this.user_name,this.page,"collection").then(function(n){l.total_page=n.total_pages,l.hasMoreData=!0,l.collectionsAllData=n.collections})},l.prototype.doInfinite=function(l){var n=this;if(!(this.page<this.total_page))return this.hasMoreData=!1,!1;this.page+=1,this.isloader=0,this.collectionData().then(function(){if(n.page==n.total_page)return n.hasMoreData=!1,!1;l.complete()})},l.prototype.update=function(l,n){var e=this;this.collectionId=l,this.profileService.collectionEditData(this.collectionId,"collection").then(function(l){l.status&&e.promptAlert({title:"Edit Collection Name",titleName:l.collection.title?l.collection.title:"",description:l.collection.description?l.collection.description:"",index:n})})},l.prototype.deleteCollection=function(l,n){this.collectionId=l,this.showalertdelete({title:"Are you sure you'd like to delete this album?",index:n})},l.prototype.updateCollection=function(l,n){var e=this;l.id=this.collectionId,this.profileService.collectionUpdate(l,"collection").then(function(t){if(!t.status)return alert("collection not update Successfully Try Again!"),!1;e.collectionsAllData[n].title=l.title})},l.prototype.deleteCollectionFunction=function(l){var n=this;this.profileService.collectionDeleteApi(this.collectionId,"collection").then(function(e){e?n.collectionsAllData.splice(l,1):alert("collection not delete Successfully Try Again!")})},l.prototype.goToCollectionDetail=function(l){console.log(l)},l}();v=Object(s.__decorate)([Object(r.Component)({selector:"page-collections",templateUrl:"collections.html"}),Object(s.__metadata)("design:paramtypes",["function"==typeof(t=void 0!==p.q&&p.q)&&t||Object,"function"==typeof(i=void 0!==f.a&&f.a)&&i||Object,"function"==typeof(o=void 0!==p.b&&p.b)&&o||Object,"function"==typeof(u=void 0!==h.a&&h.a)&&u||Object,"function"==typeof(a=void 0!==p.m&&p.m)&&a||Object,"function"==typeof(c=void 0!==p.r&&p.r)&&c||Object,"function"==typeof(d=void 0!==m.a&&m.a)&&d||Object])],v);var b=e(226),R=function(){return function(){}}();R=Object(s.__decorate)([Object(r.NgModule)({declarations:[v],imports:[p.l.forChild(v),b.c]})],R);var y=e(392),C=e(393),D=e(394),_=e(395),k=e(396),A=e(397),w=e(398),x=e(399),I=e(400),O=e(100),E=e(99),S=e(37),j=e(3),N=e(81),T=e(68),M=e(20),F=e(19),P=e(45),q=e(52),U=e(170),L=e(91),V=e(64),$=e(54),J=e(14),Z=e(228),B=e(101),K=e(27),z=e(9),G=e(401),H=e(124),Q=e(44),W=e(6),X=e(60),Y=e(31),ll=e(8),nl=e(23),el=e(90),tl=e(61),il=e(38),ol=e(69),ul=e(67),al=e(5),cl=e(29),dl=e(82),rl=e(49),sl=e(16),pl=r["ɵcrt"]({encapsulation:2,styles:[],data:{}});function fl(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,19,"ion-row",[["class","app-operation row"]],null,null,null,null,null)),r["ɵdid"](1,16384,null,0,O.a,[],null,null),(l()(),r["ɵted"](-1,null,["\n            "])),(l()(),r["ɵeld"](3,0,null,null,7,"ion-col",[["class","col"],["col-1",""]],null,null,null,null,null)),r["ɵdid"](4,16384,null,0,E.a,[],null,null),(l()(),r["ɵted"](-1,null,["\n                "])),(l()(),r["ɵeld"](6,0,null,null,3,"a",[],null,[[null,"click"]],function(l,n,e){var t=!0;"click"===n&&(t=!1!==l.component.update(l.parent.context.$implicit.id,l.parent.context.index)&&t);return t},null,null)),(l()(),r["ɵted"](-1,null,[" "])),(l()(),r["ɵeld"](8,0,null,null,1,"ion-icon",[["icon-right",""],["name","create"],["role","img"]],[[2,"hide",null]],null,null,null,null)),r["ɵdid"](9,147456,null,0,S.a,[j.a,r.ElementRef,r.Renderer],{name:[0,"name"]},null),(l()(),r["ɵted"](-1,null,["\n            "])),(l()(),r["ɵted"](-1,null,["\n            "])),(l()(),r["ɵeld"](12,0,null,null,6,"ion-col",[["class","col"],["col-1",""]],null,null,null,null,null)),r["ɵdid"](13,16384,null,0,E.a,[],null,null),(l()(),r["ɵted"](-1,null,["\n                "])),(l()(),r["ɵeld"](15,0,null,null,2,"a",[],null,[[null,"click"]],function(l,n,e){var t=!0;"click"===n&&(t=!1!==l.component.deleteCollection(l.parent.context.$implicit.id,l.parent.context.index)&&t);return t},null,null)),(l()(),r["ɵeld"](16,0,null,null,1,"ion-icon",[["icon-right",""],["name","trash"],["role","img"]],[[2,"hide",null]],null,null,null,null)),r["ɵdid"](17,147456,null,0,S.a,[j.a,r.ElementRef,r.Renderer],{name:[0,"name"]},null),(l()(),r["ɵted"](-1,null,["\n            "])),(l()(),r["ɵted"](-1,null,["\n        "]))],function(l,n){l(n,9,0,"create");l(n,17,0,"trash")},function(l,n){l(n,8,0,r["ɵnov"](n,9)._hidden),l(n,16,0,r["ɵnov"](n,17)._hidden)})}function hl(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,19,"ion-card",[["class","ion-card view"]],null,null,null,null,null)),r["ɵdid"](1,16384,null,0,N.a,[j.a,r.ElementRef,r.Renderer],null,null),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵeld"](3,0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,T.b,T.a)),r["ɵdid"](4,1097728,null,3,M.a,[F.a,j.a,r.ElementRef,r.Renderer,[2,P.a]],null,null),r["ɵqud"](335544320,1,{contentLabel:0}),r["ɵqud"](603979776,2,{_buttons:1}),r["ɵqud"](603979776,3,{_icons:1}),r["ɵdid"](8,16384,null,0,q.a,[],null,null),(l()(),r["ɵted"](-1,2,["\n            "])),(l()(),r["ɵeld"](10,0,null,2,1,"h2",[],null,null,null,null,null)),(l()(),r["ɵted"](11,null,["",""])),(l()(),r["ɵted"](-1,2,["\n        "])),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵeld"](14,0,null,null,1,"img-loader",[["style","width:100%;height:100%;"],["useImg","true"]],null,[[null,"click"]],function(l,n,e){var t=!0;"click"===n&&(t=!1!==l.component.goToCollectionDetail(l.context.$implicit.title)&&t);return t},U.b,U.a)),r["ɵdid"](15,114688,null,0,L.a,[r.ElementRef,r.Renderer,V.a,$.a],{src:[0,"src"],useImg:[1,"useImg"]},null),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵand"](16777216,null,null,1,null,fl)),r["ɵdid"](18,16384,null,0,J.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),r["ɵted"](-1,null,["\n    "]))],function(l,n){var e=n.component;l(n,15,0,e.baseUrl+n.context.$implicit.image,"true"),l(n,18,0,e.loggedinUser_id==e.userAuthData.id)},function(l,n){l(n,11,0,n.context.$implicit.title)})}function ml(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,9,"ion-card",[],null,null,null,null,null)),r["ɵdid"](1,16384,null,0,N.a,[j.a,r.ElementRef,r.Renderer],null,null),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵeld"](3,0,null,null,5,"ion-card-content",[],null,null,null,null,null)),r["ɵdid"](4,16384,null,0,Z.a,[j.a,r.ElementRef,r.Renderer],null,null),(l()(),r["ɵted"](-1,null,["\n            "])),(l()(),r["ɵeld"](6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),r["ɵted"](7,null,["",""])),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵted"](-1,null,["\n    "]))],null,function(l,n){l(n,7,0,n.component.collectionContentShow)})}function gl(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,6,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],function(l,n,e){var t=!0;"ionInfinite"===n&&(t=!1!==l.component.doInfinite(e)&&t);return t},null,null)),r["ɵdid"](1,1196032,null,0,B.a,[K.a,r.NgZone,r.ElementRef,z.a],null,{ionInfinite:"ionInfinite"}),(l()(),r["ɵted"](-1,null,[" \n        "])),(l()(),r["ɵeld"](3,0,null,null,2,"ion-infinite-scroll-content",[["loadingSpinner","ios"]],[[1,"state",0]],null,null,G.b,G.a)),r["ɵdid"](4,114688,null,0,H.a,[B.a,j.a],{loadingSpinner:[0,"loadingSpinner"]},null),(l()(),r["ɵted"](-1,null,["\n        "])),(l()(),r["ɵted"](-1,null,["\n    "]))],function(l,n){l(n,4,0,"ios")},function(l,n){l(n,3,0,r["ɵnov"](n,4).inf.state)})}function vl(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,29,"ion-header",[],null,null,null,null,null)),r["ɵdid"](1,16384,null,0,Q.a,[j.a,r.ElementRef,r.Renderer,[2,W.a]],null,null),(l()(),r["ɵted"](-1,null,["\n    "])),(l()(),r["ɵeld"](3,0,null,null,11,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,X.b,X.a)),r["ɵdid"](4,49152,null,0,Y.a,[ll.a,[2,W.a],[2,nl.a],j.a,r.ElementRef,r.Renderer],null,null),(l()(),r["ɵted"](-1,3,["\n        "])),(l()(),r["ɵeld"](6,0,null,3,7,"ion-title",[],null,null,null,el.b,el.a)),r["ɵdid"](7,49152,null,0,tl.a,[j.a,r.ElementRef,r.Renderer,[2,il.a],[2,Y.a]],null,null),(l()(),r["ɵted"](-1,0,["\n            "])),(l()(),r["ɵeld"](9,0,null,0,3,"div",[["class","header-logo"]],null,null,null,null,null)),(l()(),r["ɵted"](-1,null,["\n                "])),(l()(),r["ɵeld"](11,0,null,null,0,"img",[["alt","logo"],["src","assets/img/stuccco-new-logo.png"]],null,null,null,null,null)),(l()(),r["ɵted"](-1,null,[" \n            "])),(l()(),r["ɵted"](-1,0,["\n        "])),(l()(),r["ɵted"](-1,3,["\n    "])),(l()(),r["ɵted"](-1,null,["\n    "])),(l()(),r["ɵeld"](16,0,null,null,12,"ion-toolbar",[["class","sub-header toolbar"]],[[2,"statusbar-padding",null]],null,null,ol.b,ol.a)),r["ɵdid"](17,49152,null,0,il.a,[j.a,r.ElementRef,r.Renderer],null,null),(l()(),r["ɵted"](-1,3,["\n        "])),(l()(),r["ɵeld"](19,0,null,3,4,"a",[["class","backicon"]],null,[[null,"click"]],function(l,n,e){var t=!0;"click"===n&&(t=!1!==l.component.backbutton()&&t);return t},null,null)),(l()(),r["ɵeld"](20,0,null,null,3,"ion-icon",[["ios","ios-arrow-back"],["name","arrow-back"],["role","img"]],[[2,"hide",null]],null,null,null,null)),r["ɵdid"](21,147456,null,0,S.a,[j.a,r.ElementRef,r.Renderer],{name:[0,"name"],ios:[1,"ios"]},null),(l()(),r["ɵeld"](22,0,null,null,1,"span",[["class","back-text"]],null,null,null,null,null)),(l()(),r["ɵted"](-1,null,["Back"])),(l()(),r["ɵted"](-1,3,["\n        "])),(l()(),r["ɵeld"](25,0,null,3,2,"ion-title",[["class","title"]],null,null,null,el.b,el.a)),r["ɵdid"](26,49152,null,0,tl.a,[j.a,r.ElementRef,r.Renderer,[2,il.a],[2,Y.a]],null,null),(l()(),r["ɵted"](-1,0,["Collections"])),(l()(),r["ɵted"](-1,3,["\n    "])),(l()(),r["ɵted"](-1,null,["\n"])),(l()(),r["ɵted"](-1,null,["\n"])),(l()(),r["ɵeld"](31,0,null,null,14,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,ul.b,ul.a)),r["ɵdid"](32,4374528,null,0,K.a,[j.a,al.a,z.a,r.ElementRef,r.Renderer,ll.a,cl.a,r.NgZone,[2,W.a],[2,nl.a]],null,null),(l()(),r["ɵted"](-1,1,["\n\t"])),(l()(),r["ɵeld"](34,0,null,1,10,"div",[["class","ion-card-collections"]],null,null,null,null,null)),(l()(),r["ɵted"](-1,null,["\n    "])),(l()(),r["ɵand"](16777216,null,null,1,null,hl)),r["ɵdid"](37,802816,null,0,J.h,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),r["ɵted"](-1,null,["\n    "])),(l()(),r["ɵand"](16777216,null,null,1,null,ml)),r["ɵdid"](40,16384,null,0,J.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),r["ɵted"](-1,null,["\n    "])),(l()(),r["ɵand"](16777216,null,null,1,null,gl)),r["ɵdid"](43,16384,null,0,J.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),r["ɵted"](-1,null,["  \n"])),(l()(),r["ɵted"](-1,1,["\n"])),(l()(),r["ɵted"](-1,null,["\n"]))],function(l,n){var e=n.component;l(n,21,0,"arrow-back","ios-arrow-back"),l(n,37,0,e.collectionsAllData),l(n,40,0,1==e.collectionarea&&e.userAuthData.id==e.loggedinUser_id),l(n,43,0,1==e.hasMoreData)},function(l,n){l(n,3,0,r["ɵnov"](n,4)._hidden,r["ɵnov"](n,4)._sbPadding),l(n,16,0,r["ɵnov"](n,17)._sbPadding),l(n,20,0,r["ɵnov"](n,21)._hidden),l(n,31,0,r["ɵnov"](n,32).statusbarPadding,r["ɵnov"](n,32)._hasRefresher)})}var bl=r["ɵccf"]("page-collections",v,function(l){return r["ɵvid"](0,[(l()(),r["ɵeld"](0,0,null,null,1,"page-collections",[],null,null,null,vl,pl)),r["ɵdid"](1,49152,null,0,v,[nl.a,f.a,dl.a,h.a,rl.a,sl.a,m.a],null,null)],null,null)},{},{},[]),Rl=e(18),yl=e(224),Cl=e(227),Dl=e(89);e.d(n,"CollectionsPageModuleNgFactory",function(){return _l});var _l=r["ɵcmf"](R,[],function(l){return r["ɵmod"]([r["ɵmpd"](512,r.ComponentFactoryResolver,r["ɵCodegenComponentFactoryResolver"],[[8,[y.a,C.a,D.a,_.a,k.a,A.a,w.a,x.a,I.a,bl]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["ɵmpd"](4608,J.k,J.j,[r.LOCALE_ID]),r["ɵmpd"](4608,Rl.x,Rl.x,[]),r["ɵmpd"](4608,Rl.g,Rl.g,[]),r["ɵmpd"](512,J.b,J.b,[]),r["ɵmpd"](512,Rl.v,Rl.v,[]),r["ɵmpd"](512,Rl.l,Rl.l,[]),r["ɵmpd"](512,Rl.s,Rl.s,[]),r["ɵmpd"](512,yl.a,yl.a,[]),r["ɵmpd"](512,yl.b,yl.b,[]),r["ɵmpd"](512,Cl.a,Cl.a,[]),r["ɵmpd"](512,R,R,[]),r["ɵmpd"](256,Dl.a,v,[])])})}});